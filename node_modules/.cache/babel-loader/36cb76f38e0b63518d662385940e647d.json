{"ast":null,"code":"import _classCallCheck from\"/Users/zuzu/Documents/GitHub/frog_tech_trend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/zuzu/Documents/GitHub/frog_tech_trend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/zuzu/Documents/GitHub/frog_tech_trend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/zuzu/Documents/GitHub/frog_tech_trend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/zuzu/Documents/GitHub/frog_tech_trend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";/**\n *2020\n *yi\n *\n */import React,{useRef,Component}from'react';import'./components/global';import'./App.css';import Tagbutton from\"./components/Tagbutton\";import TrendItem from\"./components/trendItem\";import closepng from\"./asset/close.png\";import titlepng from\"./asset/title-1.png\";var rootRef=/*#__PURE__*/React.createRef();var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(dispatch,props){var _this;_classCallCheck(this,App);_this=_super.call(this,dispatch,props);_this.onKeyDown=function(e){switch(e.keyCode){case 70://回车事件\n//alert(e.keyCode)\n_this.fullScreen();break;}};_this.fullScreen=function(){if(!_this.state.isFullScreen){try{rootRef.current.requestFullscreen();}catch(_unused){console.log('not support');}}};_this.exitFullScreen=function(){document.exitFullscreen();};_this.onRef=function(ref){_this.child=ref;};_this.state={initall:0,winW:'100%',winH:'100%',categoryblockH:0,treadData:[],themeData:[],category:['传感未来','大数据','环境为本','区块链','人工智能','生活方式','生物科技','未来机会','未来技术','虚拟现实','重置'],choosecategory:{'传感未来':0,'大数据':0,'环境为本':0,'区块链':0,'人工智能':0,'生活方式':0,'生物科技':0,'未来机会':0,'未来技术':0,'虚拟现实':0,'重置':0},tempchoose:[0,0,0,0,0,0,0,0,0,0,0],// theme:['行','建筑','健康','教育','金融','其他','人机交互','人文艺术','设计','食','消费','信息安全','衣','医疗','以人为本','职场','自动化'],\n// themeicon:['./images/ai3.png','./images/ai3.png','./images/ai3.png','./images/ai3.png','./images/ai3.png','./images/ai3.png','./images/ai3.png','./images/ai3.png','./images/ai3.png','./images/ai3.png','./images/ai3.png','./images/ai3.png','./images/ai3.png','./images/ai3.png','./images/ai3.png','./images/ai3.png','./images/ai3.png'],\ntheme:['行','建筑','健康','教育','金融','其他','人机交互','人文艺术','设计','食','消费','信息安全','衣','医疗','以人为本','职场','自动化','社交'],themeicon:['./images/icon1.png','./images/icon2.png','./images/icon3.png','./images/icon4.png','./images/icon5.png','./images/icon6.png','./images/icon7.png','./images/icon8.png','./images/icon9.png','./images/icon10.png','./images/icon11.png','./images/icon12.png','./images/icon13.png','./images/icon14.png','./images/icon15.png','./images/icon16.png','./images/icon17.png','./images/icon18.png'],showthemeData:[],showpopup:'hidden',popupalpha:0,popupheioght:'30%',isFullScreen:false,contentTop:'100px'};_this.handleresize=_this.handleresize.bind(_assertThisInitialized(_this));_this.settle_Data=_this.settle_Data.bind(_assertThisInitialized(_this));_this.click_event=_this.click_event.bind(_assertThisInitialized(_this));_this.closepopup=_this.closepopup.bind(_assertThisInitialized(_this));return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){var newcategoryblockH=document.getElementById(\"categoryview\");if(window.innerWidth<500){newcategoryblockH=newcategoryblockH.clientHeight;}else{newcategoryblockH=0;}var _contentTop=100;console.log(document.getElementById(\"categoryview\").clientHeight);_contentTop=(window.innerHeight-700)/2;this.setState({categoryblockH:newcategoryblockH,contentTop:_contentTop});document.addEventListener(\"keydown\",this.onKeyDown);}},{key:\"handleresize\",value:function handleresize(){var _this2=this;var newcategoryblockH=document.getElementById(\"categoryview\");if(window.innerWidth<500){newcategoryblockH=newcategoryblockH.clientHeight;}else{newcategoryblockH=0;}this.setState({winW:window.innerWidth,winH:window.innerHeight,categoryblockH:newcategoryblockH},function(){_this2.settle_Data(_this2.state.tempchoose);});console.log(newcategoryblockH);// 全屏\nif(document.fullscreenElement){this.setState({isFullScreen:true});}// 不是全屏\nelse{this.setState({isFullScreen:false});}}},{key:\"componentWillMount\",value:function componentWillMount(){var _this3=this;window.addEventListener('resize',this.handleresize);fetch('./trend.json',{method:\"GET\",headers:{'Content-Type':'application/json','Accept':'application/json'}}).then(function(response){return response.json();})//Promise\n.then(function(data){_this3.setState({treadData:data.data,winW:window.innerWidth,winH:window.innerHeight},function(){_this3.settle_Data(_this3.state.tempchoose);});});}},{key:\"componentDidUpdate\",value:function componentDidUpdate(){}//close component\n},{key:\"componentWillUnmount\",value:function componentWillUnmount(){window.removeEventListener(\"resize\",this.handleresize);}//props update\n},{key:\"componentWillReceiveProps\",value:function componentWillReceiveProps(){}},{key:\"settle_Data\",value:function settle_Data(tempchoose){var _this4=this;var show_item_num=7;var item_top_space=120;var item_w=860/show_item_num;var left_pos=(this.state.winW-(item_w+30)*show_item_num)/2;var newtempData=[];var item_top=item_top_space+this.state.categoryblockH;var item_left=left_pos;var i=1;var newthemeData=[];//Set theme icon\nthis.state.theme.map(function(item,key){if(key%show_item_num==0){i=1;item_top+=item_w+60;item_left=left_pos;}else{item_left=left_pos+i*(item_w+40);i+=1;}var newthemeicon={index:key,theme:item,left:item_left,top:item_top,width:item_w,visible:'visible'};newthemeData.push(newthemeicon);});//If checked trend button\nvar tempchoosetrend=[];for(var _i=0;_i<tempchoose.length;_i++){if(tempchoose[_i]==1){tempchoosetrend.push(this.state.category[_i]);}}if(tempchoosetrend.length>0){var temptheme=[];var k=0;i=0;item_top=item_top_space+this.state.categoryblockH;this.state.treadData.map(function(item,key){if(tempchoosetrend.includes(item.category)){temptheme.push(item.themeicon);}});temptheme=Array.from(new Set(temptheme));if(temptheme.length<show_item_num)left_pos=(this.state.winW-(item_w+20)*temptheme.length)/2;var newtempthemeData=this.state.themeData;this.state.theme.map(function(themeitem,key){if(temptheme.includes(themeitem)){if(k%show_item_num==0){i=1;item_top+=item_w+60;item_left=left_pos;}else{item_left=left_pos+i*(item_w+40);i+=1;}k+=1;newtempthemeData[key]={index:key,theme:themeitem,left:item_left,top:item_top,width:item_w,visible:'visible'};}else{newtempthemeData[key]={index:key,theme:themeitem,left:(_this4.state.winW-item_w)/2,top:_this4.state.winH,width:item_w,visible:'hidden'};}});this.setState({initall:0},function(){_this4.setState({themeData:newtempthemeData});});}else{this.setState({initall:1,themeData:newthemeData},function(){_this4.setState({themeData:newthemeData});});}}},{key:\"click_event\",value:function click_event(tag){var _this5=this;if(tag=='重置'){var renewtempchoose=[0,0,0,0,0,0,0,0,0,0,0];var _newchoosecat=this.state.choosecategory;for(var i=0;i<this.state.tempchoose.length;i++){if(this.state.tempchoose[i]==1){_newchoosecat[this.state.category[i]]=0;}}this.setState({tempchoose:renewtempchoose,choosecategory:_newchoosecat},function(){// console.log(newchoosecat)\n_this5.settle_Data(renewtempchoose);});return;}var newchoosecat=this.state.choosecategory;if(newchoosecat[tag]==1){newchoosecat[tag]=0;}else{newchoosecat[tag]=1;}this.setState({choosecategory:newchoosecat},function(){var newtempchoose=_this5.state.tempchoose;for(var _i2=0;_i2<_this5.state.category.length;_i2++){if(_this5.state.category[_i2]==tag){newtempchoose[_i2]==1?newtempchoose[_i2]=0:newtempchoose[_i2]=1;}}_this5.setState({tempchoose:newtempchoose},function(){//console.log(newtempchoose)\n_this5.settle_Data(newtempchoose);});});}},{key:\"item_click_event\",value:function item_click_event(picktheme){var _this6=this;var tempchoosetrend=[];var popupData=[];for(var i=0;i<this.state.tempchoose.length;i++){if(this.state.tempchoose[i]==1){tempchoosetrend.push(this.state.category[i]);}}this.state.treadData.map(function(item,key){if(tempchoosetrend.length>0){if(tempchoosetrend.includes(item.category)){if(item.themeicon==picktheme){item.displayyear='yes';popupData.push(item);}}}else{if(item.themeicon==picktheme){item.displayyear='yes';popupData.push(item);}}});//sort year 2015-2020\nvar sortpopupData=this.bubblesort(popupData);console.log(sortpopupData.length);var newpopupheioght=sortpopupData.length*140;//if(window.innerWidth<1000)newpopupheioght=sortpopupData.length*window.innerWidth/2\nnewpopupheioght='auto';this.setState({showthemeData:sortpopupData,popupheioght:newpopupheioght},function(){// console.log(this.state.showthemeData)\n_this6.setState({showpopup:'visible',popupalpha:1});});}},{key:\"bubblesort\",value:function bubblesort(arr){var len=arr.length;for(var i=0;i<len;i++){for(var j=0;j<len-i-1;j++){if(arr[j].year>arr[j+1].year){var temp=arr[j];arr[j]=arr[j+1];arr[j+1]=temp;}else if(arr[j].year==arr[j+1].year){arr[j+1].displayyear+='no';}}}return arr;}},{key:\"closepopup\",value:function closepopup(){this.setState({showpopup:'hidden',popupheioght:'5%',popupalpha:0});}},{key:\"render\",value:function render(){var _this7=this;return/*#__PURE__*/_jsxs(\"div\",{className:\"contentView\",ref:rootRef,children:[/*#__PURE__*/_jsx(\"div\",{className:\"viewbg\",children:/*#__PURE__*/_jsx(\"video\",{src:\"./media/WorkReel_BG.mp4\",autoPlay:\"autoPlay\",loop:\"loop\",muted:\"muted\",style:{width:'120%',height:'100%',paddingLeft:0,left:0}})}),/*#__PURE__*/_jsxs(\"div\",{style:{position:'absolute',backgroundColor:'',width:'100%',top:this.state.contentTop},children:[/*#__PURE__*/_jsx(\"div\",{className:\"Topheadline\"}),/*#__PURE__*/_jsx(\"div\",{className:\"Subheadline\",children:/*#__PURE__*/_jsx(\"img\",{src:titlepng,width:'980'})}),/*#__PURE__*/_jsx(\"div\",{className:\"Centerblock\",id:\"categoryview\",children:/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:'80%',width:'980px',height:'audo',display:'flex',justifyContent:'space-between',paddingBottom:0,backgroundColor:''},children:[/*#__PURE__*/_jsx(Tagbutton,{ButtonName:'传感未来',checked:this.state.choosecategory['传感未来'],bgcolor:'#BFDDE2',action:this.click_event}),/*#__PURE__*/_jsx(Tagbutton,{ButtonName:'大数据',checked:this.state.choosecategory['大数据'],bgcolor:'#BFDDE2',action:this.click_event}),/*#__PURE__*/_jsx(Tagbutton,{ButtonName:'环境为本',checked:this.state.choosecategory['环境为本'],bgcolor:'#BFDDE2',action:this.click_event}),/*#__PURE__*/_jsx(Tagbutton,{ButtonName:'区块链',checked:this.state.choosecategory['区块链'],bgcolor:'#BFDDE2',action:this.click_event}),/*#__PURE__*/_jsx(Tagbutton,{ButtonName:'人工智能',checked:this.state.choosecategory['人工智能'],bgcolor:'#BFDDE2',action:this.click_event}),/*#__PURE__*/_jsx(Tagbutton,{ButtonName:'生活方式',checked:this.state.choosecategory['生活方式'],bgcolor:'#BFDDE2',action:this.click_event}),/*#__PURE__*/_jsx(Tagbutton,{ButtonName:'生物科技',checked:this.state.choosecategory['生物科技'],bgcolor:'#BFDDE2',action:this.click_event}),/*#__PURE__*/_jsx(Tagbutton,{ButtonName:'未来机会',checked:this.state.choosecategory['未来机会'],bgcolor:'#BFDDE2',action:this.click_event}),/*#__PURE__*/_jsx(Tagbutton,{ButtonName:'未来技术',checked:this.state.choosecategory['未来技术'],bgcolor:'#BFDDE2',action:this.click_event}),/*#__PURE__*/_jsx(Tagbutton,{ButtonName:'虚拟现实',checked:this.state.choosecategory['虚拟现实'],bgcolor:'#BFDDE2',action:this.click_event})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"Centerblock\",children:/*#__PURE__*/_jsx(\"div\",{style:{maxWidth:'80%',width:'860',height:'audo',paddingBottom:0,backgroundColor:'#666'},children:this.state.themeData.map(function(item,key){return/*#__PURE__*/_jsx(TrendItem,{onRef:_this7.onRef,itemid:item.index,itemTitle:item.theme,action:_this7.item_click_event.bind(_this7),icon:_this7.state.themeicon[key],itemW:item.width,visible:item.visible,left:item.left,top:item.top},key);})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"popupView\",style:{visibility:this.state.showpopup,transition:'0.15s ease-out all',opacity:this.state.popupalpha},children:[/*#__PURE__*/_jsx(\"div\",{className:\"popupViewbg\",onClick:function onClick(){_this7.closepopup();}}),/*#__PURE__*/_jsxs(\"div\",{className:\"popupcontent\",style:{transition:'0.25s ease-out all',height:this.state.popupheioght},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'100%',height:'40px',textAlign:'right'},children:/*#__PURE__*/_jsx(\"img\",{src:closepng,style:{paddingRight:12,paddingTop:12},width:'40vh',onClick:function onClick(){_this7.closepopup();}})}),/*#__PURE__*/_jsx(\"div\",{className:\"scrollcontent\",children:this.state.showthemeData.map(function(item,key){return/*#__PURE__*/_jsxs(\"div\",{className:\"Linerblock\",style:{paddingBottom:20,paddingTop:10},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"Centerblock\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"themeyear\",children:/*#__PURE__*/_jsx(\"div\",{className:\"textunselect\",children:item.displayyear==\"yes\"?item.year:''})}),/*#__PURE__*/_jsx(\"div\",{className:\"themetext\",children:/*#__PURE__*/_jsx(\"div\",{className:\"textunselect\",children:item.headline})})]},key),/*#__PURE__*/_jsx(\"div\",{className:\"Centerblock\",style:{height:1}})]},key);})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"resetbutton\",children:/*#__PURE__*/_jsx(Tagbutton,{ButtonName:'重置',checked:this.state.choosecategory['重置'],bgcolor:'#fff1c1',action:this.click_event})})]});}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["/Users/zuzu/Documents/GitHub/frog_tech_trend/src/App.js"],"names":["React","useRef","Component","Tagbutton","TrendItem","closepng","titlepng","rootRef","createRef","App","dispatch","props","onKeyDown","e","keyCode","fullScreen","state","isFullScreen","current","requestFullscreen","console","log","exitFullScreen","document","exitFullscreen","onRef","ref","child","initall","winW","winH","categoryblockH","treadData","themeData","category","choosecategory","tempchoose","theme","themeicon","showthemeData","showpopup","popupalpha","popupheioght","contentTop","handleresize","bind","settle_Data","click_event","closepopup","newcategoryblockH","getElementById","window","innerWidth","clientHeight","_contentTop","innerHeight","setState","addEventListener","fullscreenElement","fetch","method","headers","then","response","json","data","removeEventListener","show_item_num","item_top_space","item_w","left_pos","newtempData","item_top","item_left","i","newthemeData","map","item","key","newthemeicon","index","left","top","width","visible","push","tempchoosetrend","length","temptheme","k","includes","Array","from","Set","newtempthemeData","themeitem","tag","renewtempchoose","newchoosecat","newtempchoose","picktheme","popupData","displayyear","sortpopupData","bubblesort","newpopupheioght","arr","len","j","year","temp","height","paddingLeft","position","backgroundColor","maxWidth","display","justifyContent","paddingBottom","item_click_event","visibility","transition","opacity","textAlign","paddingRight","paddingTop","headline"],"mappings":"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","sourcesContent":["/**\n *2020\n *yi\n *\n */\n\n\nimport React, { useRef,Component } from 'react';\nimport './components/global'\nimport './App.css';\nimport Tagbutton from \"./components/Tagbutton\";\nimport TrendItem from \"./components/trendItem\";\nimport closepng from \"./asset/close.png\"\nimport titlepng from \"./asset/title-1.png\"\n\nconst rootRef = React.createRef();\n\n\n\nclass App extends React.Component {\n\n  constructor(dispatch,props){\n    super(dispatch,props)\n    this.state ={\n      initall:0,\n      winW:'100%',\n      winH:'100%',\n      categoryblockH:0,\n      treadData:[],\n      themeData:[],\n      category: ['传感未来','大数据','环境为本','区块链','人工智能','生活方式','生物科技','未来机会','未来技术','虚拟现实','重置'],\n      choosecategory:{'传感未来':0,'大数据':0,'环境为本':0,'区块链':0,'人工智能':0,'生活方式':0,'生物科技':0,'未来机会':0,'未来技术':0,'虚拟现实':0,'重置':0},\n      tempchoose:[0,0,0,0,0,0,0,0,0,0,0],\n     // theme:['行','建筑','健康','教育','金融','其他','人机交互','人文艺术','设计','食','消费','信息安全','衣','医疗','以人为本','职场','自动化'],\n     // themeicon:['./images/ai3.png','./images/ai3.png','./images/ai3.png','./images/ai3.png','./images/ai3.png','./images/ai3.png','./images/ai3.png','./images/ai3.png','./images/ai3.png','./images/ai3.png','./images/ai3.png','./images/ai3.png','./images/ai3.png','./images/ai3.png','./images/ai3.png','./images/ai3.png','./images/ai3.png'],\n      theme:['行','建筑','健康','教育','金融','其他','人机交互','人文艺术','设计','食','消费','信息安全','衣','医疗','以人为本','职场','自动化','社交'],\n      themeicon:['./images/icon1.png','./images/icon2.png','./images/icon3.png','./images/icon4.png','./images/icon5.png','./images/icon6.png','./images/icon7.png','./images/icon8.png','./images/icon9.png','./images/icon10.png','./images/icon11.png','./images/icon12.png','./images/icon13.png','./images/icon14.png','./images/icon15.png','./images/icon16.png','./images/icon17.png','./images/icon18.png'],\n      showthemeData:[],\n      showpopup:'hidden',\n      popupalpha:0,\n      popupheioght:'30%',\n      isFullScreen:false,\n        contentTop:'100px',\n\n    }\n\n\n    this.handleresize =this.handleresize.bind(this)\n    this.settle_Data =this.settle_Data.bind(this)\n    this.click_event =this.click_event.bind(this)\n      this.closepopup =this.closepopup.bind(this)\n\n\n\n  }\n\n  componentDidMount() {\n      let newcategoryblockH = document.getElementById(\"categoryview\")\n      if(window.innerWidth<500){\n          newcategoryblockH=newcategoryblockH.clientHeight\n      }else {\n          newcategoryblockH=0\n      }\n\n      let _contentTop=100\n\n      console.log(document.getElementById(\"categoryview\").clientHeight)\n\n     _contentTop=(window.innerHeight-700)/2\n      this.setState({\n          categoryblockH:newcategoryblockH,\n          contentTop:_contentTop,\n      })\n\n      document.addEventListener(\"keydown\", this.onKeyDown)\n\n\n  }\n\n    onKeyDown = (e) => {\n\n        switch( e.keyCode) {\n            case 70://回车事件\n                //alert(e.keyCode)\n                this.fullScreen()\n                break\n        }\n    }\n\n\n\n    fullScreen = () => {\n        if (!this.state.isFullScreen) {\n            try {\n                rootRef.current.requestFullscreen();\n            }catch{\n                console.log('not support')\n            }\n        }\n    }\n\n\n    exitFullScreen = () => {\n        document.exitFullscreen();\n    }\n\n\n\n  handleresize(){\n\n      let newcategoryblockH = document.getElementById(\"categoryview\")\n\n      if(window.innerWidth<500){\n          newcategoryblockH=newcategoryblockH.clientHeight\n      }else {\n          newcategoryblockH=0\n      }\n\n    this.setState({\n      winW:window.innerWidth,\n      winH:window.innerHeight,\n      categoryblockH:newcategoryblockH,\n    },()=>{\n      this.settle_Data(this.state.tempchoose)\n    })\n     console.log(newcategoryblockH)\n\n\n      // 全屏\n      if (document.fullscreenElement) {\n          this.setState({ isFullScreen: true });\n      }\n      // 不是全屏\n      else {\n          this.setState({ isFullScreen: false });\n      }\n\n\n  }\n\n  componentWillMount() {\n\n    window.addEventListener('resize', this.handleresize);\n\n\n\n\n\n\n\n      fetch('./trend.json', {\n         method: \"GET\",\n         headers: {\n          'Content-Type': 'application/json',\n          'Accept': 'application/json'\n         },\n         })\n          .then(response => response.json())//Promise\n          .then(data => {\n\n            this.setState({\n              treadData: data.data,\n              winW:window.innerWidth,\n              winH:window.innerHeight,\n\n            },()=>{\n\n              this.settle_Data(this.state.tempchoose)\n\n            })\n\n\n        })\n\n\n\n  }\n\n\n  componentDidUpdate(){\n\n  }\n\n  //close component\n  componentWillUnmount(){\n    window.removeEventListener(\"resize\", this.handleresize)\n  }\n\n\n  //props update\n  componentWillReceiveProps(){\n\n  }\n\n  settle_Data(tempchoose){\n\n    let show_item_num=7\n    let item_top_space=120\n    let item_w = 860 / show_item_num\n    let left_pos = (this.state.winW - (item_w + 30) * show_item_num) / 2\n    let newtempData = []\n    let item_top =  item_top_space+this.state.categoryblockH\n\n\n\n      let item_left = left_pos\n    let i = 1\n    let newthemeData=[]\n\n\n\n\n\n      //Set theme icon\n      this.state.theme.map((item, key) => {\n\n          if (key % show_item_num == 0) {\n              i = 1\n              item_top += item_w + 60\n              item_left = left_pos\n          } else {\n              item_left = left_pos + i * (item_w + 40)\n              i += 1\n          }\n\n          const newthemeicon = {\n              index: key,\n              theme: item,\n              left: item_left,\n              top: item_top,\n              width: item_w,\n              visible: 'visible',\n          }\n\n          newthemeData.push(newthemeicon)\n\n      })\n\n\n\n\n\n\n      //If checked trend button\n       let tempchoosetrend=[]\n\n       for(let i=0;i<tempchoose.length;i++){\n         if(tempchoose[i]==1){\n           tempchoosetrend.push(this.state.category[i])\n         }\n       }\n\n\n      if(tempchoosetrend.length>0) {\n\n        let temptheme=[]\n        let k=0\n            i=0\n            item_top=item_top_space+this.state.categoryblockH\n\n\n        this.state.treadData.map((item, key) => {\n           if(tempchoosetrend.includes(item.category)) {\n              temptheme.push(item.themeicon)\n           }\n        })\n\n\n          temptheme=Array.from(new Set(temptheme))\n\n         if(temptheme.length<show_item_num)left_pos = (this.state.winW - (item_w + 20) * temptheme.length) / 2\n\n\n          let newtempthemeData=this.state.themeData\n          this.state.theme.map((themeitem, key) => {\n\n\n              if (temptheme.includes(themeitem)) {\n\n                  if (k % show_item_num == 0) {\n                      i = 1\n                      item_top += item_w + 60\n                      item_left = left_pos\n                  } else {\n                      item_left = left_pos + i * (item_w + 40)\n                      i += 1\n                  }\n                  k += 1\n\n                  newtempthemeData[key]={\n                      index: key,\n                      theme: themeitem,\n                      left: item_left,\n                      top: item_top,\n                      width: item_w,\n                      visible: 'visible',\n                  }\n\n              }else{\n\n                  newtempthemeData[key]={\n                      index: key,\n                      theme: themeitem,\n                      left: (this.state.winW-item_w)/2,\n                      top: this.state.winH,\n                      width: item_w,\n                      visible: 'hidden',\n                  }\n\n              }\n\n          })\n\n\n           this.setState({\n               initall: 0,\n           },()=>{\n               this.setState({themeData:newtempthemeData})\n           })\n\n\n\n     }else{\n\n          this.setState({\n              initall: 1,\n              themeData:newthemeData,\n          },()=>{\n              this.setState({themeData:newthemeData})\n          })\n\n      }\n\n\n    }\n\n\n\n\n  click_event(tag){\n\n\n    if(tag=='重置'){\n       let renewtempchoose=[0,0,0,0,0,0,0,0,0,0,0]\n       let newchoosecat=this.state.choosecategory\n       for(var i=0;i<this.state.tempchoose.length;i++){\n         if(this.state.tempchoose[i]==1){\n           newchoosecat[this.state.category[i]]=0\n         }\n       }\n\n          this.setState({\n            tempchoose:renewtempchoose,\n            choosecategory:newchoosecat,\n          },()=>{\n           // console.log(newchoosecat)\n            this.settle_Data(renewtempchoose)\n\n          })\n\n\n\n      return\n    }\n\n    let newchoosecat=this.state.choosecategory\n\n    if(newchoosecat[tag]==1){\n      newchoosecat[tag]=0\n\n    }else{\n      newchoosecat[tag]=1\n    }\n\n\n    this.setState({\n      choosecategory:newchoosecat\n    },()=>{\n      let newtempchoose=this.state.tempchoose\n      for(let i=0;i<this.state.category.length;i++){\n        if(this.state.category[i]==tag){\n          (newtempchoose[i]==1)?(newtempchoose[i]=0):(newtempchoose[i]=1)\n\n        }\n      }\n\n      this.setState({\n        tempchoose:newtempchoose\n      },()=>{\n        //console.log(newtempchoose)\n        this.settle_Data(newtempchoose)\n\n      })\n\n    })\n\n  }\n\n\n  onRef = (ref) => {\n    this.child = ref\n  }\n\n\n  item_click_event(picktheme){\n\n\n      let tempchoosetrend=[]\n      let popupData=[]\n      for(let i=0;i<this.state.tempchoose.length;i++){\n          if(this.state.tempchoose[i]==1){\n              tempchoosetrend.push(this.state.category[i])\n          }\n      }\n\n\n          this.state.treadData.map((item, key) => {\n              if(tempchoosetrend.length>0) {\n                 if(tempchoosetrend.includes(item.category)) {\n                    if(item.themeicon==picktheme){\n                        item.displayyear='yes'\n                        popupData.push(item)\n                    }\n                 }\n              }else{\n                    if(item.themeicon==picktheme){\n                        item.displayyear='yes'\n                        popupData.push(item)\n                   }\n              }\n          })\n\n      //sort year 2015-2020\n      let sortpopupData=this.bubblesort(popupData)\n\n      console.log(sortpopupData.length)\n      let newpopupheioght=sortpopupData.length*140\n      //if(window.innerWidth<1000)newpopupheioght=sortpopupData.length*window.innerWidth/2\n      newpopupheioght='auto'\n      this.setState({\n          showthemeData:sortpopupData,\n          popupheioght:newpopupheioght\n      },()=>{\n         // console.log(this.state.showthemeData)\n          this.setState({\n              showpopup:'visible',\n              popupalpha:1,\n          })\n\n\n      })\n\n\n  }\n\n    bubblesort(arr){\n        let len = arr.length;\n        for( let i = 0; i < len; i ++){\n            for( let j = 0; j < len - i - 1; j ++){\n                if(arr[j].year > arr[j + 1].year) {\n                    let temp = arr[j];\n                    arr[j] = arr[j+1];\n                    arr[j+1] = temp;\n\n                }else if(arr[j].year == arr[j + 1].year){\n\n                    arr[j + 1].displayyear +='no'\n\n                }\n            }\n        }\n        return arr;\n    }\n\n\n\n    closepopup(){\n          this.setState({\n              showpopup:'hidden',\n              popupheioght:'5%',\n              popupalpha:0,\n          })\n\n    }\n\n\n\n\n\n\n  render(){\n\n\n    return(\n\n        <div  className='contentView' ref={rootRef} >\n\n          <div className='viewbg'>\n              <video src=\"./media/WorkReel_BG.mp4\" autoPlay=\"autoPlay\" loop=\"loop\"  muted=\"muted\"  style={{width:'120%',height:'100%',paddingLeft:0,left:0}} >\n\n              </video>\n\n          </div>\n\n          <div style={{position:'absolute',backgroundColor:'',width:'100%',top:this.state.contentTop}}>\n          <div className='Topheadline'>\n          </div>\n          <div className='Subheadline'>\n           <img src={titlepng}    width={'980'} />\n          </div>\n\n          <div className='Centerblock' id='categoryview'>\n            <div style={{maxWidth:'80%',width:'980px',height:'audo',display:'flex',justifyContent: 'space-between',paddingBottom:0,backgroundColor:''}}>\n\n              <Tagbutton ButtonName={'传感未来'} checked={this.state.choosecategory['传感未来']} bgcolor={'#BFDDE2'} action={this.click_event}/>\n              <Tagbutton ButtonName={'大数据'} checked={this.state.choosecategory['大数据']} bgcolor={'#BFDDE2'} action={this.click_event} />\n              <Tagbutton ButtonName={'环境为本'} checked={this.state.choosecategory['环境为本']} bgcolor={'#BFDDE2'} action={this.click_event} />\n              <Tagbutton ButtonName={'区块链'} checked={this.state.choosecategory['区块链']} bgcolor={'#BFDDE2'} action={this.click_event} />\n              <Tagbutton ButtonName={'人工智能'} checked={this.state.choosecategory['人工智能']} bgcolor={'#BFDDE2'} action={this.click_event} />\n              <Tagbutton ButtonName={'生活方式'} checked={this.state.choosecategory['生活方式']} bgcolor={'#BFDDE2'} action={this.click_event} />\n              <Tagbutton ButtonName={'生物科技'} checked={this.state.choosecategory['生物科技']} bgcolor={'#BFDDE2'} action={this.click_event} />\n              <Tagbutton ButtonName={'未来机会'} checked={this.state.choosecategory['未来机会']} bgcolor={'#BFDDE2'} action={this.click_event} />\n              <Tagbutton ButtonName={'未来技术'} checked={this.state.choosecategory['未来技术']} bgcolor={'#BFDDE2'} action={this.click_event} />\n              <Tagbutton ButtonName={'虚拟现实'} checked={this.state.choosecategory['虚拟现实']} bgcolor={'#BFDDE2'} action={this.click_event} />\n\n\n\n            </div>\n          </div>\n\n          <div className='Centerblock'>\n            <div style={{maxWidth:'80%',width:'860',height:'audo',paddingBottom:0,backgroundColor:'#666'}}>\n\n              {\n\n                this.state.themeData.map((item, key) => {\n\n\n                    return (\n\n                        <TrendItem  onRef={this.onRef}  key={key} itemid={item.index} itemTitle={item.theme} action={this.item_click_event.bind(this)} icon={this.state.themeicon[key]} itemW={item.width} visible={item.visible} left={item.left} top={item.top}/>\n                    )\n\n                })\n              }\n\n\n          </div>\n\n          </div>\n          </div>\n\n            <div className='popupView' style={{visibility:this.state.showpopup,transition:'0.15s ease-out all',opacity:this.state.popupalpha}}>\n                <div className='popupViewbg' onClick={()=>{this.closepopup() }}>\n                </div>\n                <div className='popupcontent' style={{transition:'0.25s ease-out all',height:this.state.popupheioght}}>\n                    <div style={{width:'100%',height:'40px',textAlign:'right'}}>\n                        <img src={closepng}  style={{paddingRight:12,paddingTop:12}}   width={'40vh'} onClick={()=>{this.closepopup() }} />\n                    </div>\n                    <div className='scrollcontent' >\n\n                        {\n                            this.state.showthemeData.map((item, key) => {\n                                return(\n                                    <div key={key} className='Linerblock' style={{  paddingBottom:20,paddingTop:10}}>\n                                           <div key={key} className='Centerblock'  >\n\n                                                <div className='themeyear'>\n                                                    <div className='textunselect'>\n                                                     {(item.displayyear==\"yes\")?(item.year):('')}\n                                                    </div>\n                                                </div>\n                                                <div className='themetext'>\n                                                    <div className='textunselect'>\n                                                     {item.headline}\n                                                    </div>\n                                                </div>\n\n                                           </div>\n\n                                            <div   className='Centerblock' style={{height:1}} >\n\n                                            </div>\n                                        </div>\n\n\n                                )\n                            })\n                        }\n\n\n\n                    </div>\n\n\n\n                </div>\n\n            </div>\n\n            <div className='resetbutton' >\n                <Tagbutton ButtonName={'重置'} checked={this.state.choosecategory['重置']} bgcolor={'#fff1c1'} action={this.click_event} />\n\n            </div>\n\n        </div>\n    )\n\n  }\n\n}\n\n\n\n\nexport default App;"]},"metadata":{},"sourceType":"module"}