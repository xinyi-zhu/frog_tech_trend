{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/yi.zhao/Documents/http/frog_trend/src/App.js\";\n\n/**\n *2020\n *yi\n *\n */\nimport React, { useRef } from 'react';\nimport './components/global';\nimport './App.css';\nimport Tagbutton from \"./components/Tagbutton\";\nimport TrendItem from \"./components/trendItem\";\nimport closepng from \"./asset/close.png\";\n\nclass App extends React.Component {\n  constructor(dispatch, props) {\n    super(dispatch, props);\n\n    this.onRef = ref => {\n      this.child = ref;\n    };\n\n    this.state = {\n      initall: 0,\n      winW: '100%',\n      winH: '100%',\n      categoryblockH: 0,\n      treadData: [],\n      themeData: [],\n      category: ['传感未来', '大数据', '环境为本', '区块链', '人工智能', '生活方式', '生物科技', '未来机会', '未来技术', '虚拟现实', '重置'],\n      choosecategory: {\n        '传感未来': 0,\n        '大数据': 0,\n        '环境为本': 0,\n        '区块链': 0,\n        '人工智能': 0,\n        '生活方式': 0,\n        '生物科技': 0,\n        '未来机会': 0,\n        '未来技术': 0,\n        '虚拟现实': 0,\n        '重置': 0\n      },\n      tempchoose: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n      theme: ['行', '建筑', '健康', '教育', '金融', '其他', '人机交互', '人文艺术', '设计', '食', '消费', '信息安全', '衣', '医疗', '以人为本', '职场', '自动化'],\n      themeicon: ['./images/ai.png', './images/ai.png', './images/ai.png', './images/ai.png', './images/ai.png', './images/ai.png', './images/ai.png', './images/ai.png', './images/ai.png', './images/ai.png', './images/ai.png', './images/ai.png', './images/ai.png', './images/ai.png', './images/ai.png', './images/ai.png', './images/ai.png'],\n      showthemeData: [],\n      showpopup: 'hidden',\n      popupalpha: 0,\n      popupheioght: '30%'\n    };\n    this.handleresize = this.handleresize.bind(this);\n    this.settle_Data = this.settle_Data.bind(this);\n    this.click_event = this.click_event.bind(this);\n    this.closepopup = this.closepopup.bind(this);\n  }\n\n  componentDidMount() {}\n\n  handleresize() {\n    let newcategoryblockH = document.getElementById(\"categoryview\");\n    this.setState({\n      winW: window.innerWidth,\n      winH: window.innerHeight,\n      categoryblockH: newcategoryblockH\n    }, () => {\n      this.settle_Data(this.state.tempchoose);\n    }); //console.log(this.state.winW)\n  }\n\n  componentWillMount() {\n    window.addEventListener('resize', this.handleresize);\n    fetch('./trend.json', {\n      method: \"GET\",\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      }\n    }).then(response => response.json()) //Promise\n    .then(data => {\n      this.setState({\n        treadData: data.data,\n        winW: window.innerWidth,\n        winH: window.innerHeight\n      }, () => {\n        this.settle_Data(this.state.tempchoose);\n      });\n    });\n  }\n\n  componentDidUpdate() {} //close component\n\n\n  componentWillUnmount() {\n    window.removeEventListener(\"resize\", this.handleresize);\n  } //props update\n\n\n  componentWillReceiveProps() {}\n\n  settle_Data(tempchoose) {\n    const item_w = this.state.winW * .7 / 4;\n    const left_pos = (this.state.winW - (item_w + 20) * 4) / 2;\n    let newtempData = [];\n    let item_top = 60 + this.state.categoryblockH * 40;\n    let item_left = left_pos;\n    let i = 1;\n    let newthemeData = []; //Set theme icon\n\n    this.state.theme.map((item, key) => {\n      if (key % 4 == 0) {\n        i = 1;\n        item_top += item_w + 80;\n        item_left = left_pos;\n      } else {\n        item_left = left_pos + i * (item_w + 20);\n        i += 1;\n      }\n\n      const newthemeicon = {\n        index: key,\n        theme: item,\n        left: item_left,\n        top: item_top,\n        width: item_w,\n        visible: 'visible'\n      };\n      newthemeData.push(newthemeicon);\n    }); //If checked trend button\n\n    let tempchoosetrend = [];\n\n    for (let i = 0; i < tempchoose.length; i++) {\n      if (tempchoose[i] == 1) {\n        tempchoosetrend.push(this.state.category[i]);\n      }\n    }\n\n    if (tempchoosetrend.length > 0) {\n      let temptheme = [];\n      let k = 0;\n      i = 0;\n      item_top = 60;\n      this.state.treadData.map((item, key) => {\n        if (tempchoosetrend.includes(item.category)) {\n          temptheme.push(item.themeicon);\n        }\n      });\n      temptheme = Array.from(new Set(temptheme));\n      let newtempthemeData = this.state.themeData;\n      this.state.theme.map((themeitem, key) => {\n        if (temptheme.includes(themeitem)) {\n          if (k % 4 == 0) {\n            i = 1;\n            item_top += item_w + 80;\n            item_left = left_pos;\n          } else {\n            item_left = left_pos + i * (item_w + 20);\n            i += 1;\n          }\n\n          k += 1;\n          newtempthemeData[key] = {\n            index: key,\n            theme: themeitem,\n            left: item_left,\n            top: item_top,\n            width: item_w,\n            visible: 'visible'\n          };\n        } else {\n          newtempthemeData[key] = {\n            index: key,\n            theme: themeitem,\n            left: (this.state.winW - item_w) / 2,\n            top: this.state.winH,\n            width: item_w,\n            visible: 'hidden'\n          };\n        }\n      });\n      this.setState({\n        initall: 0\n      }, () => {\n        this.setState({\n          themeData: newtempthemeData\n        });\n      });\n    } else {\n      this.setState({\n        initall: 1,\n        themeData: newthemeData\n      }, () => {\n        this.setState({\n          themeData: newthemeData\n        });\n      });\n    }\n  }\n\n  click_event(tag) {\n    if (tag == '重置') {\n      let renewtempchoose = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n      let newchoosecat = this.state.choosecategory;\n\n      for (var i = 0; i < this.state.tempchoose.length; i++) {\n        if (this.state.tempchoose[i] == 1) {\n          newchoosecat[this.state.category[i]] = 0;\n        }\n      }\n\n      this.setState({\n        tempchoose: renewtempchoose,\n        choosecategory: newchoosecat\n      }, () => {\n        // console.log(newchoosecat)\n        this.settle_Data(renewtempchoose);\n      });\n      return;\n    }\n\n    let newchoosecat = this.state.choosecategory;\n\n    if (newchoosecat[tag] == 1) {\n      newchoosecat[tag] = 0;\n    } else {\n      newchoosecat[tag] = 1;\n    }\n\n    this.setState({\n      choosecategory: newchoosecat\n    }, () => {\n      let newtempchoose = this.state.tempchoose;\n\n      for (let i = 0; i < this.state.category.length; i++) {\n        if (this.state.category[i] == tag) {\n          newtempchoose[i] == 1 ? newtempchoose[i] = 0 : newtempchoose[i] = 1;\n        }\n      }\n\n      this.setState({\n        tempchoose: newtempchoose\n      }, () => {\n        //console.log(newtempchoose)\n        this.settle_Data(newtempchoose);\n      });\n    });\n  }\n\n  item_click_event(picktheme) {\n    let tempchoosetrend = [];\n    let popupData = [];\n\n    for (let i = 0; i < this.state.tempchoose.length; i++) {\n      if (this.state.tempchoose[i] == 1) {\n        tempchoosetrend.push(this.state.category[i]);\n      }\n    }\n\n    this.state.treadData.map((item, key) => {\n      if (tempchoosetrend.length > 0) {\n        if (tempchoosetrend.includes(item.category)) {\n          if (item.themeicon == picktheme) {\n            popupData.push(item);\n          }\n        }\n      } else {\n        if (item.themeicon == picktheme) {\n          popupData.push(item);\n        }\n      }\n    }); //sort year 2015-2020\n\n    let sortpopupData = this.bubblesort(popupData);\n    let newpopupheioght = sortpopupData.length * 140;\n    this.setState({\n      showthemeData: sortpopupData,\n      popupheioght: newpopupheioght\n    }, () => {\n      // console.log(this.state.showthemeData)\n      this.setState({\n        showpopup: 'visible',\n        popupalpha: 1\n      });\n    });\n  }\n\n  bubblesort(arr) {\n    let len = arr.length;\n\n    for (let i = 0; i < len; i++) {\n      for (let j = 0; j < len - i - 1; j++) {\n        if (arr[j].year > arr[j + 1].year) {\n          let temp = arr[j];\n          arr[j] = arr[j + 1];\n          arr[j + 1] = temp;\n        }\n      }\n    }\n\n    return arr;\n  }\n\n  closepopup() {\n    this.setState({\n      showpopup: 'hidden',\n      popupheioght: '5%',\n      popupalpha: 0\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"contentView\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"viewbg\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 396,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'absolute',\n          backgroundColor: '',\n          width: '100%'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"Topheadline\",\n          children: \"FROG TREND\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"Subheadline\",\n          children: \"This is the subtitle\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 403,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"Centerblock\",\n          id: \"categoryview\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              maxWidth: '60%',\n              width: 'auto',\n              height: 'audo',\n              paddingBottom: 60\n            },\n            children: [/*#__PURE__*/_jsxDEV(Tagbutton, {\n              ButtonName: '传感未来',\n              checked: this.state.choosecategory['传感未来'],\n              bgcolor: '#e6ffa1',\n              action: this.click_event\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 410,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Tagbutton, {\n              ButtonName: '大数据',\n              checked: this.state.choosecategory['大数据'],\n              bgcolor: '#ffcba1',\n              action: this.click_event\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 411,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Tagbutton, {\n              ButtonName: '环境为本',\n              checked: this.state.choosecategory['环境为本'],\n              bgcolor: '#ffd966',\n              action: this.click_event\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 412,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Tagbutton, {\n              ButtonName: '区块链',\n              checked: this.state.choosecategory['区块链'],\n              bgcolor: '#b5ffa1',\n              action: this.click_event\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 413,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Tagbutton, {\n              ButtonName: '人工智能',\n              checked: this.state.choosecategory['人工智能'],\n              bgcolor: '#a1ffc9',\n              action: this.click_event\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 414,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Tagbutton, {\n              ButtonName: '生活方式',\n              checked: this.state.choosecategory['生活方式'],\n              bgcolor: '#a1eeff',\n              action: this.click_event\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 415,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Tagbutton, {\n              ButtonName: '生物科技',\n              checked: this.state.choosecategory['生物科技'],\n              bgcolor: '#a1c2ff',\n              action: this.click_event\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 416,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Tagbutton, {\n              ButtonName: '未来机会',\n              checked: this.state.choosecategory['未来机会'],\n              bgcolor: '#c1ffd1',\n              action: this.click_event\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 417,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Tagbutton, {\n              ButtonName: '未来技术',\n              checked: this.state.choosecategory['未来技术'],\n              bgcolor: '#e3c1ff',\n              action: this.click_event\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 418,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Tagbutton, {\n              ButtonName: '虚拟现实',\n              checked: this.state.choosecategory['虚拟现实'],\n              bgcolor: '#f8ffc1',\n              action: this.click_event\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 419,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Tagbutton, {\n              ButtonName: '重置',\n              checked: this.state.choosecategory['重置'],\n              bgcolor: '#fff1c1',\n              action: this.click_event\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 420,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 408,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 407,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"Centerblock\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              maxWidth: '80%',\n              width: '80%',\n              height: 'audo',\n              paddingBottom: 60,\n              backgroundColor: ''\n            },\n            children: this.state.themeData.map((item, key) => {\n              return /*#__PURE__*/_jsxDEV(TrendItem, {\n                onRef: this.onRef,\n                itemid: item.index,\n                itemTitle: item.theme,\n                action: this.item_click_event.bind(this),\n                icon: this.state.themeicon[key],\n                itemW: item.width,\n                visible: item.visible,\n                left: item.left,\n                top: item.top\n              }, key, false, {\n                fileName: _jsxFileName,\n                lineNumber: 437,\n                columnNumber: 25\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 428,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 427,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 399,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"popupView\",\n        style: {\n          visibility: this.state.showpopup,\n          transition: '0.15s ease-out all',\n          opacity: this.state.popupalpha\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"popupViewbg\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 450,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"popupcontent\",\n          style: {\n            transition: '0.35s ease-out all',\n            height: this.state.popupheioght,\n            maxHeight: '70%'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: '100%',\n              height: '40px',\n              textAlign: 'right'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: closepng,\n              width: '5%',\n              onClick: () => {\n                this.closepopup();\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 454,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 453,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"scrollcontent\",\n            children: this.state.showthemeData.map((item, key) => {\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"Linerblock\",\n                style: {\n                  paddingBottom: 20,\n                  paddingTop: 10\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"Centerblock\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"themeyear\",\n                    children: item.year\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 464,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"themetext\",\n                    children: item.headline\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 467,\n                    columnNumber: 49\n                  }, this)]\n                }, key, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 462,\n                  columnNumber: 44\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"Centerblock\",\n                  style: {\n                    height: 1\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 473,\n                  columnNumber: 45\n                }, this)]\n              }, key, true, {\n                fileName: _jsxFileName,\n                lineNumber: 461,\n                columnNumber: 37\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 456,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 452,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 449,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 394,\n      columnNumber: 9\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/yi.zhao/Documents/http/frog_trend/src/App.js"],"names":["React","useRef","Tagbutton","TrendItem","closepng","App","Component","constructor","dispatch","props","onRef","ref","child","state","initall","winW","winH","categoryblockH","treadData","themeData","category","choosecategory","tempchoose","theme","themeicon","showthemeData","showpopup","popupalpha","popupheioght","handleresize","bind","settle_Data","click_event","closepopup","componentDidMount","newcategoryblockH","document","getElementById","setState","window","innerWidth","innerHeight","componentWillMount","addEventListener","fetch","method","headers","then","response","json","data","componentDidUpdate","componentWillUnmount","removeEventListener","componentWillReceiveProps","item_w","left_pos","newtempData","item_top","item_left","i","newthemeData","map","item","key","newthemeicon","index","left","top","width","visible","push","tempchoosetrend","length","temptheme","k","includes","Array","from","Set","newtempthemeData","themeitem","tag","renewtempchoose","newchoosecat","newtempchoose","item_click_event","picktheme","popupData","sortpopupData","bubblesort","newpopupheioght","arr","len","j","year","temp","render","position","backgroundColor","maxWidth","height","paddingBottom","visibility","transition","opacity","maxHeight","textAlign","paddingTop","headline"],"mappings":"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","sourcesContent":["/**\n *2020\n *yi\n *\n */\n\n\nimport React, { useRef } from 'react';\nimport './components/global'\nimport './App.css';\nimport Tagbutton from \"./components/Tagbutton\";\nimport TrendItem from \"./components/trendItem\";\nimport closepng from \"./asset/close.png\"\n\nclass App extends React.Component {\n\n  constructor(dispatch,props){\n    super(dispatch,props)\n    this.state ={\n      initall:0,\n      winW:'100%',\n      winH:'100%',\n      categoryblockH:0,\n      treadData:[],\n      themeData:[],\n      category: ['传感未来','大数据','环境为本','区块链','人工智能','生活方式','生物科技','未来机会','未来技术','虚拟现实','重置'],\n      choosecategory:{'传感未来':0,'大数据':0,'环境为本':0,'区块链':0,'人工智能':0,'生活方式':0,'生物科技':0,'未来机会':0,'未来技术':0,'虚拟现实':0,'重置':0},\n      tempchoose:[0,0,0,0,0,0,0,0,0,0,0],\n      theme:['行','建筑','健康','教育','金融','其他','人机交互','人文艺术','设计','食','消费','信息安全','衣','医疗','以人为本','职场','自动化'],\n      themeicon:['./images/ai.png','./images/ai.png','./images/ai.png','./images/ai.png','./images/ai.png','./images/ai.png','./images/ai.png','./images/ai.png','./images/ai.png','./images/ai.png','./images/ai.png','./images/ai.png','./images/ai.png','./images/ai.png','./images/ai.png','./images/ai.png','./images/ai.png'],\n      showthemeData:[],\n      showpopup:'hidden',\n      popupalpha:0,\n      popupheioght:'30%',\n\n    }\n\n\n    this.handleresize =this.handleresize.bind(this)\n    this.settle_Data =this.settle_Data.bind(this)\n    this.click_event =this.click_event.bind(this)\n      this.closepopup =this.closepopup.bind(this)\n\n\n  }\n\n  componentDidMount() {\n\n  }\n\n\n\n  handleresize(){\n      let newcategoryblockH = document.getElementById(\"categoryview\")\n\n    this.setState({\n      winW:window.innerWidth,\n      winH:window.innerHeight,\n      categoryblockH:newcategoryblockH,\n    },()=>{\n      this.settle_Data(this.state.tempchoose)\n    })\n    //console.log(this.state.winW)\n  }\n\n  componentWillMount() {\n\n    window.addEventListener('resize', this.handleresize);\n\n      fetch('./trend.json', {\n         method: \"GET\",\n         headers: {\n          'Content-Type': 'application/json',\n          'Accept': 'application/json'\n         },\n         })\n          .then(response => response.json())//Promise\n          .then(data => {\n\n            this.setState({\n              treadData: data.data,\n              winW:window.innerWidth,\n              winH:window.innerHeight,\n            },()=>{\n\n              this.settle_Data(this.state.tempchoose)\n\n\n            })\n\n\n        })\n\n\n\n  }\n\n\n  componentDidUpdate(){\n\n  }\n\n  //close component\n  componentWillUnmount(){\n    window.removeEventListener(\"resize\", this.handleresize)\n  }\n\n\n  //props update\n  componentWillReceiveProps(){\n\n  }\n\n  settle_Data(tempchoose){\n\n\n    const item_w = this.state.winW * .7 / 4\n    const left_pos = (this.state.winW - (item_w + 20) * 4) / 2\n    let newtempData = []\n    let item_top = 60 +this.state.categoryblockH*40\n    let item_left = left_pos\n    let i = 1\n    let newthemeData=[]\n\n\n\n\n\n      //Set theme icon\n      this.state.theme.map((item, key) => {\n\n          if (key % 4 == 0) {\n              i = 1\n              item_top += item_w + 80\n              item_left = left_pos\n          } else {\n              item_left = left_pos + i * (item_w + 20)\n              i += 1\n          }\n\n          const newthemeicon = {\n              index: key,\n              theme: item,\n              left: item_left,\n              top: item_top,\n              width: item_w,\n              visible: 'visible',\n          }\n\n          newthemeData.push(newthemeicon)\n\n      })\n\n\n\n\n\n\n      //If checked trend button\n       let tempchoosetrend=[]\n\n       for(let i=0;i<tempchoose.length;i++){\n         if(tempchoose[i]==1){\n           tempchoosetrend.push(this.state.category[i])\n         }\n       }\n\n\n      if(tempchoosetrend.length>0) {\n\n        let temptheme=[]\n        let k=0\n            i=0\n            item_top=60\n        this.state.treadData.map((item, key) => {\n           if(tempchoosetrend.includes(item.category)) {\n              temptheme.push(item.themeicon)\n           }\n        })\n\n          temptheme=Array.from(new Set(temptheme))\n\n          let newtempthemeData=this.state.themeData\n          this.state.theme.map((themeitem, key) => {\n              if (temptheme.includes(themeitem)) {\n\n                  if (k % 4 == 0) {\n                      i = 1\n                      item_top += item_w + 80\n                      item_left = left_pos\n                  } else {\n                      item_left = left_pos + i * (item_w + 20)\n                      i += 1\n                  }\n                  k += 1\n\n                  newtempthemeData[key]={\n                      index: key,\n                      theme: themeitem,\n                      left: item_left,\n                      top: item_top,\n                      width: item_w,\n                      visible: 'visible',\n                  }\n\n              }else{\n\n                  newtempthemeData[key]={\n                      index: key,\n                      theme: themeitem,\n                      left: (this.state.winW-item_w)/2,\n                      top: this.state.winH,\n                      width: item_w,\n                      visible: 'hidden',\n                  }\n\n              }\n\n          })\n\n\n           this.setState({\n               initall: 0,\n           },()=>{\n               this.setState({themeData:newtempthemeData})\n           })\n\n\n\n     }else{\n\n          this.setState({\n              initall: 1,\n              themeData:newthemeData,\n          },()=>{\n              this.setState({themeData:newthemeData})\n          })\n\n      }\n\n\n    }\n\n\n\n\n  click_event(tag){\n\n\n    if(tag=='重置'){\n       let renewtempchoose=[0,0,0,0,0,0,0,0,0,0,0]\n       let newchoosecat=this.state.choosecategory\n       for(var i=0;i<this.state.tempchoose.length;i++){\n         if(this.state.tempchoose[i]==1){\n           newchoosecat[this.state.category[i]]=0\n         }\n       }\n\n          this.setState({\n            tempchoose:renewtempchoose,\n            choosecategory:newchoosecat,\n          },()=>{\n           // console.log(newchoosecat)\n            this.settle_Data(renewtempchoose)\n\n          })\n\n\n\n      return\n    }\n\n    let newchoosecat=this.state.choosecategory\n\n    if(newchoosecat[tag]==1){\n      newchoosecat[tag]=0\n\n    }else{\n      newchoosecat[tag]=1\n    }\n\n\n    this.setState({\n      choosecategory:newchoosecat\n    },()=>{\n      let newtempchoose=this.state.tempchoose\n      for(let i=0;i<this.state.category.length;i++){\n        if(this.state.category[i]==tag){\n          (newtempchoose[i]==1)?(newtempchoose[i]=0):(newtempchoose[i]=1)\n\n        }\n      }\n\n      this.setState({\n        tempchoose:newtempchoose\n      },()=>{\n        //console.log(newtempchoose)\n        this.settle_Data(newtempchoose)\n\n      })\n\n\n\n    })\n\n\n  }\n\n\n  onRef = (ref) => {\n    this.child = ref\n  }\n\n\n  item_click_event(picktheme){\n\n\n      let tempchoosetrend=[]\n      let popupData=[]\n      for(let i=0;i<this.state.tempchoose.length;i++){\n          if(this.state.tempchoose[i]==1){\n              tempchoosetrend.push(this.state.category[i])\n          }\n      }\n\n\n          this.state.treadData.map((item, key) => {\n              if(tempchoosetrend.length>0) {\n                 if(tempchoosetrend.includes(item.category)) {\n                    if(item.themeicon==picktheme){\n                        popupData.push(item)\n                    }\n                 }\n              }else{\n                    if(item.themeicon==picktheme){\n                        popupData.push(item)\n                   }\n              }\n          })\n\n      //sort year 2015-2020\n      let sortpopupData=this.bubblesort(popupData)\n\n\n      let newpopupheioght=sortpopupData.length*140\n      this.setState({\n          showthemeData:sortpopupData,\n          popupheioght:newpopupheioght\n      },()=>{\n         // console.log(this.state.showthemeData)\n          this.setState({\n              showpopup:'visible',\n              popupalpha:1,\n          })\n\n\n      })\n\n\n  }\n\n    bubblesort(arr){\n        let len = arr.length;\n        for( let i = 0; i < len; i ++){\n            for( let j = 0; j < len - i - 1; j ++){\n                if(arr[j].year > arr[j + 1].year) {\n                    let temp = arr[j];\n                    arr[j] = arr[j+1];\n                    arr[j+1] = temp;\n                }\n            }\n        }\n        return arr;\n    }\n\n\n\n    closepopup(){\n          this.setState({\n              showpopup:'hidden',\n              popupheioght:'5%',\n              popupalpha:0,\n          })\n\n    }\n\n\n\n  render(){\n\n\n    return(\n\n        <div  className='contentView' >\n\n          <div className='viewbg'>\n          </div>\n\n          <div style={{position:'absolute',backgroundColor:'',width:'100%'}}>\n          <div className='Topheadline'>\n            FROG TREND\n          </div>\n          <div className='Subheadline'>\n            This is the subtitle\n          </div>\n\n          <div className='Centerblock' id='categoryview'>\n            <div style={{maxWidth:'60%',width:'auto',height:'audo',paddingBottom:60}}>\n\n              <Tagbutton ButtonName={'传感未来'} checked={this.state.choosecategory['传感未来']} bgcolor={'#e6ffa1'} action={this.click_event} />\n              <Tagbutton ButtonName={'大数据'} checked={this.state.choosecategory['大数据']} bgcolor={'#ffcba1'} action={this.click_event} />\n              <Tagbutton ButtonName={'环境为本'} checked={this.state.choosecategory['环境为本']} bgcolor={'#ffd966'} action={this.click_event} />\n              <Tagbutton ButtonName={'区块链'} checked={this.state.choosecategory['区块链']} bgcolor={'#b5ffa1'} action={this.click_event} />\n              <Tagbutton ButtonName={'人工智能'} checked={this.state.choosecategory['人工智能']} bgcolor={'#a1ffc9'} action={this.click_event} />\n              <Tagbutton ButtonName={'生活方式'} checked={this.state.choosecategory['生活方式']} bgcolor={'#a1eeff'} action={this.click_event} />\n              <Tagbutton ButtonName={'生物科技'} checked={this.state.choosecategory['生物科技']} bgcolor={'#a1c2ff'} action={this.click_event} />\n              <Tagbutton ButtonName={'未来机会'} checked={this.state.choosecategory['未来机会']} bgcolor={'#c1ffd1'} action={this.click_event} />\n              <Tagbutton ButtonName={'未来技术'} checked={this.state.choosecategory['未来技术']} bgcolor={'#e3c1ff'} action={this.click_event} />\n              <Tagbutton ButtonName={'虚拟现实'} checked={this.state.choosecategory['虚拟现实']} bgcolor={'#f8ffc1'} action={this.click_event} />\n              <Tagbutton ButtonName={'重置'} checked={this.state.choosecategory['重置']} bgcolor={'#fff1c1'} action={this.click_event} />\n\n\n\n            </div>\n          </div>\n\n          <div className='Centerblock'>\n            <div style={{maxWidth:'80%',width:'80%',height:'audo',paddingBottom:60,backgroundColor:''}}>\n\n              {\n\n                this.state.themeData.map((item, key) => {\n\n\n                    return (\n\n                        <TrendItem  onRef={this.onRef}  key={key} itemid={item.index} itemTitle={item.theme} action={this.item_click_event.bind(this)} icon={this.state.themeicon[key]} itemW={item.width} visible={item.visible} left={item.left} top={item.top}/>\n                    )\n\n                })\n              }\n\n\n          </div>\n\n          </div>\n          </div>\n\n            <div className='popupView' style={{visibility:this.state.showpopup,transition:'0.15s ease-out all',opacity:this.state.popupalpha}}>\n                <div className='popupViewbg'>\n                </div>\n                <div className='popupcontent' style={{transition:'0.35s ease-out all',height:this.state.popupheioght,maxHeight:'70%'}}>\n                    <div style={{width:'100%',height:'40px',textAlign:'right'}}>\n                        <img src={closepng}    width={'5%'} onClick={()=>{this.closepopup() }} />\n                    </div>\n                    <div className='scrollcontent' >\n\n                        {\n                            this.state.showthemeData.map((item, key) => {\n                                return(\n                                    <div key={key} className='Linerblock' style={{  paddingBottom:20,paddingTop:10}}>\n                                           <div key={key} className='Centerblock'  >\n\n                                                <div className='themeyear'>\n                                                 {item.year}\n                                                </div>\n                                                <div className='themetext'>\n                                                 {item.headline}\n                                                </div>\n\n                                           </div>\n\n                                            <div   className='Centerblock' style={{height:1}} >\n\n                                            </div>\n                                        </div>\n\n\n                                )\n                            })\n                        }\n\n\n\n                    </div>\n\n\n\n                </div>\n\n            </div>\n        </div>\n    )\n\n  }\n\n}\n\n\n\n\nexport default App;"]},"metadata":{},"sourceType":"module"}